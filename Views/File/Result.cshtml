@{
    Layout = "~/Views/Shared/_ProfileLayout.cshtml";
}

<h2>Sonuç</h2>

@if(ViewBag.Error != null)
{
    <div class="alert alert-danger">@ViewBag.Error</div>
}

@if(ViewBag.Message != null)
{
    <div class="alert alert-info">@ViewBag.Message</div>
}

<!-- Burada AnalysisId Session'da saklandığı için tekrar read yapmaya gerek yok.
     Eğer tarama başlatılmadıysa "Tarama Başlat" butonu, 
     tarama bittiyse "PDF Raporunu İndir" butonu gösterebilirsiniz.

     Basit bir mantık: Eğer mesaj "başlatmak için tıklayın" içeriyorsa tarama butonu,
     "Raporu indirebilirsiniz" içeriyorsa indir butonu gösterilir.
-->

@if(ViewBag.Message != null && ViewBag.Message.ToString().Contains("başlatmak"))
{
    <form method="post" action="/File/Scan">
        <button type="submit" class="btn btn-warning">Taramayı Başlat</button>
    </form>
}

@if(ViewBag.Message != null && ViewBag.Message.ToString().Contains("Raporu indirebilirsiniz"))
{
    <a href="/File/Download" class="btn btn-success mt-3">PDF Raporunu İndir</a>
}

<a href="/File/Upload" class="btn btn-link mt-3">Yeni Dosya Yükle</a>
